{"ast":null,"code":"import s from \"react\";\nimport { FileStatus as e } from \"../../types.mjs\";\nimport { storageManagerStateReducer as i } from \"./reducer.mjs\";\nimport { addFilesAction as r, clearFilesAction as t, queueFilesAction as a, setUploadingFileAction as o, setUploadProgressAction as d, setUploadStatusAction as l, removeUploadAction as p } from \"./actions.mjs\";\nimport { isObject as u } from \"@aws-amplify/ui\";\nconst m = s => (s => !(!u(s) || !s.key))(s) ? Object.assign(Object.assign({}, s), {\n  id: s.key,\n  status: e.UPLOADED\n}) : void 0;\nfunction f(u = []) {\n  const [{\n    files: f\n  }, c] = s.useReducer(i, {\n    files: Array.isArray(u) ? u.map(m).filter(s => !!s) : []\n  });\n  return {\n    removeUpload: ({\n      id: s\n    }) => {\n      c(p({\n        id: s\n      }));\n    },\n    setUploadPaused: ({\n      id: s\n    }) => {\n      c(l({\n        id: s,\n        status: e.PAUSED\n      }));\n    },\n    setUploadProgress: ({\n      progress: s,\n      id: e\n    }) => {\n      c(d({\n        id: e,\n        progress: s\n      }));\n    },\n    setUploadResumed: ({\n      id: s\n    }) => {\n      c(l({\n        id: s,\n        status: e.UPLOADING\n      }));\n    },\n    setUploadSuccess: ({\n      id: s\n    }) => {\n      c(l({\n        id: s,\n        status: e.UPLOADED\n      }));\n    },\n    setUploadingFile: ({\n      uploadTask: s,\n      id: e\n    }) => {\n      c(o({\n        id: e,\n        uploadTask: s\n      }));\n    },\n    queueFiles: () => {\n      c(a());\n    },\n    addFiles: ({\n      files: s,\n      status: e,\n      getFileErrorMessage: i\n    }) => {\n      c(r({\n        files: s,\n        status: e,\n        getFileErrorMessage: i\n      }));\n    },\n    clearFiles: () => {\n      c(t());\n    },\n    files: f\n  };\n}\nexport { f as useStorageManager };","map":{"version":3,"names":["s","FileStatus","e","storageManagerStateReducer","i","addFilesAction","r","clearFilesAction","t","queueFilesAction","a","setUploadingFileAction","o","setUploadProgressAction","d","setUploadStatusAction","l","removeUploadAction","p","isObject","u","m","key","Object","assign","id","status","UPLOADED","f","files","c","useReducer","Array","isArray","map","filter","removeUpload","setUploadPaused","PAUSED","setUploadProgress","progress","setUploadResumed","UPLOADING","setUploadSuccess","setUploadingFile","uploadTask","queueFiles","addFiles","getFileErrorMessage","clearFiles","useStorageManager"],"sources":["C:/Users/Chris Chan/softone/node_modules/@aws-amplify/ui-react-storage/dist/esm/components/StorageManager/hooks/useStorageManager/useStorageManager.mjs"],"sourcesContent":["import s from\"react\";import{FileStatus as e}from\"../../types.mjs\";import{storageManagerStateReducer as i}from\"./reducer.mjs\";import{addFilesAction as r,clearFilesAction as t,queueFilesAction as a,setUploadingFileAction as o,setUploadProgressAction as d,setUploadStatusAction as l,removeUploadAction as p}from\"./actions.mjs\";import{isObject as u}from\"@aws-amplify/ui\";const m=s=>(s=>!(!u(s)||!s.key))(s)?Object.assign(Object.assign({},s),{id:s.key,status:e.UPLOADED}):void 0;function f(u=[]){const[{files:f},c]=s.useReducer(i,{files:Array.isArray(u)?u.map(m).filter((s=>!!s)):[]});return{removeUpload:({id:s})=>{c(p({id:s}))},setUploadPaused:({id:s})=>{c(l({id:s,status:e.PAUSED}))},setUploadProgress:({progress:s,id:e})=>{c(d({id:e,progress:s}))},setUploadResumed:({id:s})=>{c(l({id:s,status:e.UPLOADING}))},setUploadSuccess:({id:s})=>{c(l({id:s,status:e.UPLOADED}))},setUploadingFile:({uploadTask:s,id:e})=>{c(o({id:e,uploadTask:s}))},queueFiles:()=>{c(a())},addFiles:({files:s,status:e,getFileErrorMessage:i})=>{c(r({files:s,status:e,getFileErrorMessage:i}))},clearFiles:()=>{c(t())},files:f}}export{f as useStorageManager};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}