{"ast":null,"code":"import { FileStatus as s } from \"../../types.mjs\";\nimport { StorageManagerActionTypes as e } from \"./types.mjs\";\nfunction t(t, i) {\n  switch (i.type) {\n    case e.ADD_FILES:\n      {\n        const {\n            files: e,\n            status: a\n          } = i,\n          c = e.map(e => {\n            const t = i.getFileErrorMessage(e);\n            return {\n              id: e.name,\n              file: e,\n              error: t,\n              key: e.name,\n              status: t ? s.ERROR : a,\n              isImage: e.type.startsWith(\"image/\"),\n              progress: -1\n            };\n          }),\n          n = [...t.files, ...c];\n        return Object.assign(Object.assign({}, t), {\n          files: n\n        });\n      }\n    case e.CLEAR_FILES:\n      return Object.assign(Object.assign({}, t), {\n        files: []\n      });\n    case e.QUEUE_FILES:\n      {\n        const {\n            files: e\n          } = t,\n          i = e.reduce((e, t) => [...e, Object.assign(Object.assign({}, t), {\n            status: s.QUEUED\n          })], []);\n        return Object.assign(Object.assign({}, t), {\n          files: i\n        });\n      }\n    case e.SET_STATUS_UPLOADING:\n      {\n        const {\n            id: e,\n            uploadTask: a\n          } = i,\n          {\n            files: c\n          } = t,\n          n = c.reduce((t, i) => i.id === e ? [...t, Object.assign(Object.assign({}, i), {\n            status: s.UPLOADING,\n            progress: 0,\n            uploadTask: a || void 0\n          })] : [...t, i], []);\n        return Object.assign(Object.assign({}, t), {\n          files: n\n        });\n      }\n    case e.SET_UPLOAD_PROGRESS:\n      {\n        const {\n            id: s,\n            progress: e\n          } = i,\n          {\n            files: a\n          } = t,\n          c = a.reduce((t, i) => i.id === s ? [...t, Object.assign(Object.assign({}, i), {\n            progress: e\n          })] : [...t, i], []);\n        return Object.assign(Object.assign({}, t), {\n          files: c\n        });\n      }\n    case e.SET_STATUS:\n      {\n        const {\n            id: s,\n            status: e\n          } = i,\n          {\n            files: a\n          } = t,\n          c = a.reduce((t, i) => i.id === s ? [...t, Object.assign(Object.assign({}, i), {\n            status: e\n          })] : [...t, i], []);\n        return Object.assign(Object.assign({}, t), {\n          files: c\n        });\n      }\n    case e.REMOVE_UPLOAD:\n      {\n        const {\n            id: s\n          } = i,\n          {\n            files: e\n          } = t,\n          a = e.reduce((e, t) => t.id === s ? [...e] : [...e, t], []);\n        return Object.assign(Object.assign({}, t), {\n          files: a\n        });\n      }\n  }\n}\nexport { t as storageManagerStateReducer };","map":{"version":3,"names":["FileStatus","s","StorageManagerActionTypes","e","t","i","type","ADD_FILES","files","status","a","c","map","getFileErrorMessage","id","name","file","error","key","ERROR","isImage","startsWith","progress","n","Object","assign","CLEAR_FILES","QUEUE_FILES","reduce","QUEUED","SET_STATUS_UPLOADING","uploadTask","UPLOADING","SET_UPLOAD_PROGRESS","SET_STATUS","REMOVE_UPLOAD","storageManagerStateReducer"],"sources":["C:/Users/Chris Chan/softone/node_modules/@aws-amplify/ui-react-storage/dist/esm/components/StorageManager/hooks/useStorageManager/reducer.mjs"],"sourcesContent":["import{FileStatus as s}from\"../../types.mjs\";import{StorageManagerActionTypes as e}from\"./types.mjs\";function t(t,i){switch(i.type){case e.ADD_FILES:{const{files:e,status:a}=i,c=e.map((e=>{const t=i.getFileErrorMessage(e);return{id:e.name,file:e,error:t,key:e.name,status:t?s.ERROR:a,isImage:e.type.startsWith(\"image/\"),progress:-1}})),n=[...t.files,...c];return Object.assign(Object.assign({},t),{files:n})}case e.CLEAR_FILES:return Object.assign(Object.assign({},t),{files:[]});case e.QUEUE_FILES:{const{files:e}=t,i=e.reduce(((e,t)=>[...e,Object.assign(Object.assign({},t),{status:s.QUEUED})]),[]);return Object.assign(Object.assign({},t),{files:i})}case e.SET_STATUS_UPLOADING:{const{id:e,uploadTask:a}=i,{files:c}=t,n=c.reduce(((t,i)=>i.id===e?[...t,Object.assign(Object.assign({},i),{status:s.UPLOADING,progress:0,uploadTask:a||void 0})]:[...t,i]),[]);return Object.assign(Object.assign({},t),{files:n})}case e.SET_UPLOAD_PROGRESS:{const{id:s,progress:e}=i,{files:a}=t,c=a.reduce(((t,i)=>i.id===s?[...t,Object.assign(Object.assign({},i),{progress:e})]:[...t,i]),[]);return Object.assign(Object.assign({},t),{files:c})}case e.SET_STATUS:{const{id:s,status:e}=i,{files:a}=t,c=a.reduce(((t,i)=>i.id===s?[...t,Object.assign(Object.assign({},i),{status:e})]:[...t,i]),[]);return Object.assign(Object.assign({},t),{files:c})}case e.REMOVE_UPLOAD:{const{id:s}=i,{files:e}=t,a=e.reduce(((e,t)=>t.id===s?[...e]:[...e,t]),[]);return Object.assign(Object.assign({},t),{files:a})}}}export{t as storageManagerStateReducer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}