{"ast":null,"code":"import { __rest as e } from \"tslib\";\nimport * as o from \"react\";\nimport { uploadFile as s } from \"../../utils/uploadFile.mjs\";\nimport { FileStatus as l } from \"../../types.mjs\";\nimport { resolveFile as t } from \"./resolveFile.mjs\";\nfunction r({\n  files: r,\n  accessLevel: a,\n  isResumable: i,\n  setUploadProgress: p,\n  setUploadingFile: c,\n  setUploadSuccess: n,\n  onUploadError: d,\n  onUploadSuccess: m,\n  onUploadStart: f,\n  maxFileCount: u,\n  processFile: k,\n  provider: b,\n  path: y = \"\"\n}) {\n  o.useEffect(() => {\n    const o = r.filter(e => e.status === l.QUEUED);\n    if (!(o.length > u)) for (const {\n      file: l,\n      key: r,\n      id: u\n    } of o) {\n      const o = e => {\n          null == m || m(e), n({\n            id: u\n          });\n        },\n        U = e => {\n          const o = 0 === e.total ? 100 : Math.floor(e.loaded / e.total * 100);\n          p({\n            id: u,\n            progress: o\n          });\n        },\n        g = e => {\n          null == d || d(e, {\n            key: r\n          });\n        };\n      l && t({\n        processFile: k,\n        file: l,\n        key: r\n      }).then(l => {\n        var {\n            key: t\n          } = l,\n          r = e(l, [\"key\"]);\n        null == f || f({\n          key: t\n        });\n        const p = s(Object.assign(Object.assign({}, r), {\n          isResumable: i,\n          provider: b,\n          key: y + t,\n          level: a,\n          completeCallback: o,\n          progressCallback: U,\n          errorCallback: g\n        }));\n        c({\n          id: u,\n          uploadTask: i ? p : void 0\n        });\n      });\n    }\n  }, [r, a, i, p, c, d, m, f, u, n, k, b, y]);\n}\nexport { r as useUploadFiles };","map":{"version":3,"names":["__rest","e","o","uploadFile","s","FileStatus","l","resolveFile","t","r","files","accessLevel","a","isResumable","i","setUploadProgress","p","setUploadingFile","c","setUploadSuccess","n","onUploadError","d","onUploadSuccess","m","onUploadStart","f","maxFileCount","u","processFile","k","provider","b","path","y","useEffect","filter","status","QUEUED","length","file","key","id","U","total","Math","floor","loaded","progress","g","then","Object","assign","level","completeCallback","progressCallback","errorCallback","uploadTask","useUploadFiles"],"sources":["C:/Users/Chris Chan/softone/node_modules/@aws-amplify/ui-react-storage/dist/esm/components/StorageManager/hooks/useUploadFiles/useUploadFiles.mjs"],"sourcesContent":["import{__rest as e}from\"tslib\";import*as o from\"react\";import{uploadFile as s}from\"../../utils/uploadFile.mjs\";import{FileStatus as l}from\"../../types.mjs\";import{resolveFile as t}from\"./resolveFile.mjs\";function r({files:r,accessLevel:a,isResumable:i,setUploadProgress:p,setUploadingFile:c,setUploadSuccess:n,onUploadError:d,onUploadSuccess:m,onUploadStart:f,maxFileCount:u,processFile:k,provider:b,path:y=\"\"}){o.useEffect((()=>{const o=r.filter((e=>e.status===l.QUEUED));if(!(o.length>u))for(const{file:l,key:r,id:u}of o){const o=e=>{null==m||m(e),n({id:u})},U=e=>{const o=0===e.total?100:Math.floor(e.loaded/e.total*100);p({id:u,progress:o})},g=e=>{null==d||d(e,{key:r})};l&&t({processFile:k,file:l,key:r}).then((l=>{var{key:t}=l,r=e(l,[\"key\"]);null==f||f({key:t});const p=s(Object.assign(Object.assign({},r),{isResumable:i,provider:b,key:y+t,level:a,completeCallback:o,progressCallback:U,errorCallback:g}));c({id:u,uploadTask:i?p:void 0})}))}}),[r,a,i,p,c,d,m,f,u,n,k,b,y])}export{r as useUploadFiles};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}